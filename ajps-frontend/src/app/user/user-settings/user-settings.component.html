<!-- Content Area -->
<div class="content-area">
    <!-- Change Email Card -->
    <div class="card">
        <div class="card-header">
            <h5>Change Email</h5>
        </div>
        <div class="card-body">
            <form id="cngEmailForm" (submit)="onEmailSubmit($event)">
                <div class="row form-content">
                    <div class="col-md-8">
                        <div id="emailCngError-message" class="alert alert-danger d-none mb-3" role="alert"></div>
                        <div class="mb-3">
                            <label class="form-label">Current Email</label>
                            <p class="current-email">{{ oldEmail }}</p>
                            <input type="hidden" class="form-control" id="oldEmail" name="oldEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="newEmail" class="form-label">New Email</label>
                            <input type="text" class="form-control" id="newEmail" name="newEmail" [(ngModel)]="newEmail">
                        </div>
                    </div>
                    <div class="col-md-4 button-column">
                        <button type="submit" class="btn btn-new w-100">Change <i class="bi bi-arrow-right-circle"></i></button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- <hr> -->

    <!-- Change Password Card -->
    <div class="card">
        <div class="card-header">
            <h5>Change Password</h5>
        </div>
        <div class="card-body">
            <form id="cngPassForm">
                <div class="row form-content">
                    <div class="col-md-8">
                        <div id="passCngError-message" class="alert alert-danger d-none mb-3" role="alert"></div>
                        <div class="mb-3">
                            <label for="currentPass" class="form-label">Current Password</label>
                            <input type="password" class="form-control" id="currentPass" name="currentPass" required>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="newPass" class="form-label">New Password</label>
                                <input type="password" class="form-control" id="newPass" name="newPass" required>
                                <small id="passwordError" class="error-message d-none">Password must be at least 8 characters.</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="reNewPass" class="form-label">Retype New Password</label>
                                <input type="password" class="form-control" id="reNewPass" name="reNewPass" required>
                                <small id="confirmPasswordError" class="error-message d-none">Passwords do not match.</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 button-column">
                        <button type="submit" class="btn btn-new w-100">Change <i class="bi bi-arrow-right-circle"></i></button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- <hr> -->

    <!-- Email Notifications Card -->
    <!-- <div class="card">
        <div class="card-header">
            <h5>Email Notifications</h5>
        </div>
        <div class="card-body">
            <form id="notificationsForm">
                <div class="row form-content">
                    <div class="col-md-8">
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="submissionUpdates" name="submissionUpdates" checked>
                            <label class="form-check-label" for="submissionUpdates">Submission Updates</label>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="reviewRequests" name="reviewRequests" checked>
                            <label class="form-check-label" for="reviewRequests">Review Requests</label>
                        </div>
                    </div>
                    <div class="col-md-4 button-column">
                        <button type="submit" class="btn btn-new w-100"><i class="bi bi-floppy2-fill"></i> Save</button>
                    </div>
                </div>
            </form>
        </div>
    </div> -->

    <!-- <hr> -->

    <!-- Profile Visibility Card -->
    <!-- <div class="card">
        <div class="card-header">
            <h5>Profile Visibility</h5>
        </div>
        <div class="card-body">
            <form id="visibilityForm">
                <div class="row form-content">
                    <div class="col-md-8">
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" name="profileVisibility" id="publicProfile" value="public" checked>
                            <label class="form-check-label" for="publicProfile">Public (Public shareable link) <a routerLink="#" class="custom-link" target="_blank">Link <i class="bi bi-box-arrow-up-right"></i></a></label>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" name="profileVisibility" id="privateProfile" value="private">
                            <label class="form-check-label" for="privateProfile">Private (Only visible to authority)</label>
                        </div>
                    </div>
                    <div class="col-md-4 button-column">
                        <button type="submit" class="btn btn-new w-100"><i class="bi bi-floppy2-fill"></i> Save</button>
                    </div>
                </div>
            </form>
        </div>
    </div> -->



    <!-- Email OTP Modal -->
    <div class="modal fade" id="emailOtpModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="otpModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="otpModalLabel">Verify Your Request</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>We sent a 6-digit OTP to: <strong id="emailDisplay" style="display: block;">{{ newEmail }}</strong></p>
                    <div class="mb-3">
                        <label for="otpInput" class="form-label">Enter OTP</label>
                        <input type="text" class="form-control" id="otpInput" maxlength="6" pattern="\d{6}" placeholder="Enter 6-digit OTP (123456)" [(ngModel)]="otp">
                        <div class="invalid-feedback">
                            Please enter a valid 6-digit OTP.
                        </div>
                    </div>
                    <!-- <div class="text-left font-size-sm">
                        <p>Didn't receive the OTP? <a href="#" id="resendOtp" class="text-primary">Resend OTP</a></p>
                    </div> -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="emailVerifyOtp" (click)="onEmailOtpVerify()">Verify & Change Email</button>
                </div>
            </div>
        </div>
    </div>

</div>