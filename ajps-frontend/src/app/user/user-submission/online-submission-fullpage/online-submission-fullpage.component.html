<div class="mb-4">
    <h5 class="mb-3 text-primary">Manuscript Details</h5>
    <form id="fullManuscriptSubmissionForm" enctype="multipart/form-data" (ngSubmit)="submitManuscript()">
        <div id="submissionError-messageQ" class="alert alert-danger d-none mb-3" role="alert">
        </div>
        <div class="mb-3">
            <label for="journal" class="form-label">Select Journal <span class="text-danger">*</span></label>
            <select class="form-select" id="journal" name="journal" required [(ngModel)]="manuscript.journal">
                <option value="" disabled selected>Select a journal</option>
                <option value="plants-and-ecosystem">Plants and Ecosystem</option>
                <option value="journal-of-botany">Journal of Botany</option>
                <option value="ecological-studies">Ecological Studies</option>
                <option value="environmental-research">Environmental Research</option>
                <option value="biodiversity-and-conservation">Biodiversity and Conservation</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="articleTitle" class="form-label">Article Title <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="articleTitle" name="articleTitle" placeholder="Enter manuscript title" required [(ngModel)]="manuscript.articleTitle">
        </div>
        <div class="mb-3">
            <label for="articleCategory" class="form-label">Article Category <span class="text-danger">*</span></label>
            <select class="form-select" id="articleCategory" name="articleCategory" required [(ngModel)]="manuscript.articleCategory">
                <option value="" disabled selected>Select a category</option>
                <option value="research">Research Article</option>
                <option value="review">Review Article</option>
                <option value="case-study">Case Study</option>
                <option value="editorial">Editorial</option>
                <option value="other">Other</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="abstractContent" class="form-label">Abstract <span class="text-danger">*</span></label>
            <textarea class="form-control" id="abstractContent" name="abstractContent" rows="5" placeholder="Enter abstract (max 300 words)" autocomplete="off" required [(ngModel)]="manuscript.abstractContent"></textarea>
        </div>
        <div class="mb-3">
            <label for="keywords" class="form-label">Keywords (Comma Separated) <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="keywords" name="keywords" placeholder="Enter keywords (e.g., ecology, biodiversity, photosynthesis)" required [(ngModel)]="manuscript.keywords">
        </div>
        <hr class="my-4">

        <h5 class="mb-3 text-primary">Author Information</h5>
        <div class="mb-3">
            <label for="corresponding-author" class="form-label">Corresponding Author Name <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="corresponding-author" name="corresponding-author" placeholder="Enter full name" required [(ngModel)]="manuscript.correspondingAuthor">
        </div>
        <div class="mb-3">
            <label for="author-email" class="form-label">Corresponding Author Email <span class="text-danger">*</span></label>
            <input type="email" class="form-control" id="author-email" name="author-email" placeholder="Enter institutional email" required [(ngModel)]="manuscript.authorEmail">
        </div>
        <div class="mb-3">
            <label for="institution" class="form-label">Institution/Organization <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="institution" name="institution" placeholder="Enter institution name" required [(ngModel)]="manuscript.institution">
        </div>
        <hr class="my-4">

        <h5 class="mb-3 text-primary">Manuscript Upload</h5>
        <div class="mb-3 file-list-container" id="uploadedFilesList" *ngIf="selectedFileName">
            <h6 class="mb-2">Uploaded Files</h6>
            <div id="fileList" class="list-group">
                <div class="list-group-item d-flex justify-content-between align-items-center">
                    <span class="file-name">{{ selectedFileName }}</span>
                    <div>
                        <!-- <button type="button" class="btn btn-sm btn-outline-primary me-2 rename-btn"><i class="bi bi-pencil"></i> Rename</button> -->
                        <button type="button" class="btn btn-sm btn-outline-danger remove-btn" (click)="manuscript.manuscriptFile = null; selectedFileName = ''"><i class="bi bi-trash3"></i> Remove</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="mb-3">
            <label for="articleFile" class="form-label">Manuscript File (DOC, DOCX, PDF Only) <span class="text-danger">*</span></label>
            <input type="file" class="form-control" id="articleFile" name="articleFile" accept=".doc,.docx,.pdf" required (change)="onFileChange($event)">
        </div>
        <hr class="my-4">

        <h5 class="mb-2 text-primary">Suggested Reviewers</h5>
        <p class="text-muted mb-2 small">Provide at least two reviewers (not collaborators or co-authors, from different institutions with institutional emails).</p>
        <div class="row g-3">
            <div class="col-md-6">
                <h6 class="mb-2">Reviewer 1</h6>
                <div class="mb-2">
                    <label for="reviewer1-name" class="form-label">Name <span class="text-danger">*</span></label>
                    <input type="text" class="form-control form-control" id="reviewer1-name" name="reviewer1-name" placeholder="Name" required [(ngModel)]="manuscript.reviewers[0].name">
                </div>
                <div class="mb-2">
                    <label for="reviewer1-email" class="form-label">Email <span class="text-danger">*</span></label>
                    <input type="email" class="form-control form-control" id="reviewer1-email" name="reviewer1-email" placeholder="Institutional email" required [(ngModel)]="manuscript.reviewers[0].email">
                </div>
                <div class="mb-2">
                    <label for="reviewer1-institution" class="form-label">Institution <span class="text-danger">*</span></label>
                    <input type="text" class="form-control form-control" id="reviewer1-institution" name="reviewer1-institution" placeholder="Institution name" required [(ngModel)]="manuscript.reviewers[0].institution">
                </div>
            </div>
            <div class="col-md-6">
                <h6 class="mb-2">Reviewer 2</h6>
                <div class="mb-2">
                    <label for="reviewer2-name" class="form-label">Name <span class="text-danger">*</span></label>
                    <input type="text" class="form-control form-control" id="reviewer2-name" name="reviewer2-name" placeholder="Name" required [(ngModel)]="manuscript.reviewers[1].name">
                </div>
                <div class="mb-2">
                    <label for="reviewer2-email" class="form-label">Email <span class="text-danger">*</span></label>
                    <input type="email" class="form-control form-control" id="reviewer2-email" name="reviewer2-email" placeholder="Institutional email" required [(ngModel)]="manuscript.reviewers[1].email">
                </div>
                <div class="mb-2">
                    <label for="reviewer2-institution" class="form-label">Institution <span class="text-danger">*</span></label>
                    <input type="text" class="form-control form-control" id="reviewer2-institution" name="reviewer2-institution" placeholder="Institution name" required [(ngModel)]="manuscript.reviewers[1].institution">
                </div>
            </div>
        </div>
        <hr class="my-4">

        <h5 class="mb-3 text-primary">Additional Information</h5>
        <div class="mb-3">
            <label for="comments" class="form-label">Comments to the Editor (Optional)</label>
            <textarea class="form-control" id="comments" name="comments" rows="5" placeholder="Enter any additional comments for the editor" [(ngModel)]="manuscript.comments"></textarea>
        </div>
        <hr class="my-4">

        <button type="submit" class="btn btn-primary">Submit Manuscript <i class="bi bi-cloud-upload"></i></button>
    </form>
</div>
