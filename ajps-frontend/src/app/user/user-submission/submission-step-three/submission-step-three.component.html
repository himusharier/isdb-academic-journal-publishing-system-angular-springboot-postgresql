<div class="mb-4">
    <h5 class="mb-3 text-primary">Manuscript Upload</h5>
    
    <!-- Display upload status if files exist -->
    <div class="mb-3" *ngIf="uploadedFiles && uploadedFiles.length > 0" style="padding-bottom: 20px;">
        <h6>Uploaded Files</h6>
        <div class="list-group">
            <div class="list-group-item d-flex justify-content-between align-items-center" *ngFor="let file of uploadedFiles; let i = index">
                <span class="file-name">{{ file.name }}</span>
                <div>
                    <button type="button" class="btn btn-sm btn-outline-danger" (click)="removeFile(i)">
                        <i class="bi bi-trash3"></i> Remove
                    </button>
                </div>
            </div>
        </div>
    </div>

    <form id="manuscriptUploadForm" #manuscriptUploadForm="ngForm" (ngSubmit)="onSubmit(manuscriptUploadForm)" enctype="multipart/form-data">
        <div class="mb-3">
            <label for="articleFile" class="form-label">Manuscript File (ZIP, DOC, DOCX, PDF Only) <span class="text-danger">*</span></label>
            <input type="file" class="form-control" id="articleFile" name="articleFile" 
                   accept=".doc,.docx,.pdf,.zip" 
                   (change)="onFileSelected($event)" required>
            <div *ngIf="fileError" class="text-danger mt-2">{{ fileError }}</div>
        </div>
        
        <hr class="my-4">
        <div class="d-flex gap-3">
            <button type="button" class="btn btn-outline-secondary" routerLink="/user/submission/author-informations">
                <i class="bi bi-arrow-left-circle"></i> Back
            </button>
            <button type="submit" class="btn btn-primary" [disabled]="isLoading">
                <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                Save & Continue <i class="bi bi-arrow-right-circle"></i>
            </button>
            <button type="button" class="btn btn-outline-secondary" (click)="saveAndExit()">
                <i class="bi bi-floppy"></i> Save & Exit
            </button>
        </div>
    </form>
</div>